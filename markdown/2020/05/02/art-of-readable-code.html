<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>The Art of Readable Code | David Masip’s blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="The Art of Readable Code" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Review of the book" />
<meta property="og:description" content="Review of the book" />
<link rel="canonical" href="https://david26694.github.io/david-masip-blog/markdown/2020/05/02/art-of-readable-code.html" />
<meta property="og:url" content="https://david26694.github.io/david-masip-blog/markdown/2020/05/02/art-of-readable-code.html" />
<meta property="og:site_name" content="David Masip’s blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-02T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"Review of the book","@type":"BlogPosting","headline":"The Art of Readable Code","dateModified":"2020-05-02T00:00:00-05:00","datePublished":"2020-05-02T00:00:00-05:00","url":"https://david26694.github.io/david-masip-blog/markdown/2020/05/02/art-of-readable-code.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://david26694.github.io/david-masip-blog/markdown/2020/05/02/art-of-readable-code.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/david-masip-blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://david26694.github.io/david-masip-blog/feed.xml" title="David Masip's blog" /><link rel="shortcut icon" type="image/x-icon" href="/david-masip-blog/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>The Art of Readable Code | David Masip’s blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="The Art of Readable Code" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Review of the book" />
<meta property="og:description" content="Review of the book" />
<link rel="canonical" href="https://david26694.github.io/david-masip-blog/markdown/2020/05/02/art-of-readable-code.html" />
<meta property="og:url" content="https://david26694.github.io/david-masip-blog/markdown/2020/05/02/art-of-readable-code.html" />
<meta property="og:site_name" content="David Masip’s blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-02T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"Review of the book","@type":"BlogPosting","headline":"The Art of Readable Code","dateModified":"2020-05-02T00:00:00-05:00","datePublished":"2020-05-02T00:00:00-05:00","url":"https://david26694.github.io/david-masip-blog/markdown/2020/05/02/art-of-readable-code.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://david26694.github.io/david-masip-blog/markdown/2020/05/02/art-of-readable-code.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://david26694.github.io/david-masip-blog/feed.xml" title="David Masip's blog" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
<script type="text/javascript">
require.config({
  paths: {
    jquery: 'https://code.jquery.com/jquery-3.5.0.min',
    plotly: 'https://cdn.plot.ly/plotly-latest.min'
  },

  shim: {
    plotly: {
      deps: ['jquery'],
      exports: 'plotly'
    }
  }
});
</script>

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/david-masip-blog/">David Masip&#39;s blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/david-masip-blog/about/">About Me</a><a class="page-link" href="/david-masip-blog/search/">Search</a><a class="page-link" href="/david-masip-blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">The Art of Readable Code</h1><p class="page-description">Review of the book</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-05-02T00:00:00-05:00" itemprop="datePublished">
        May 2, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      5 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/david-masip-blog/categories/#markdown">markdown</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#the-art-of-readable-code">The Art of Readable Code</a>
<ul>
<li class="toc-entry toc-h3"><a href="#better-code">Better code</a>
<ul>
<li class="toc-entry toc-h4"><a href="#1-code-should-by-easy-to-understand">1. Code should by easy to understand</a></li>
<li class="toc-entry toc-h4"><a href="#2-packing-information-into-names">2. Packing information into names</a></li>
<li class="toc-entry toc-h4"><a href="#3-names-that-cant-be-misconstructed">3. Names that can’t be misconstructed</a></li>
<li class="toc-entry toc-h4"><a href="#4-aesthetics">4. Aesthetics</a></li>
<li class="toc-entry toc-h4"><a href="#5-knowing-what-to-comment">5. Knowing what to comment</a></li>
<li class="toc-entry toc-h4"><a href="#6-making-comments-precise-and-compact">6. Making comments precise and compact</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#simplifying-loops-and-logic">Simplifying loops and logic</a>
<ul>
<li class="toc-entry toc-h4"><a href="#7-simplifying-loops-and-logic">7. Simplifying loops and logic</a></li>
<li class="toc-entry toc-h4"><a href="#8-breaking-down-giant-expressions">8. Breaking down giant expressions</a></li>
<li class="toc-entry toc-h4"><a href="#9-variables-and-readability">9. Variables and readability</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#reorganizing-your-code">Reorganizing your code</a>
<ul>
<li class="toc-entry toc-h4"><a href="#10-extracting-unrelated-subproblems">10. Extracting unrelated subproblems</a></li>
<li class="toc-entry toc-h4"><a href="#11-one-task-at-a-time">11. One task at a time</a></li>
<li class="toc-entry toc-h4"><a href="#12-turning-thoughts-into-code">12. Turning thoughts into code</a></li>
<li class="toc-entry toc-h4"><a href="#13-writing-less-code">13. Writing less code</a></li>
</ul>
</li>
</ul>
</li>
</ul><h1 id="the-art-of-readable-code">
<a class="anchor" href="#the-art-of-readable-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Art of Readable Code</h1>

<p>Some time ago I read <a href="http://shop.oreilly.com/product/9780596802301.do">The art of Readable Code</a>. I recommend this read for every person starting a career where they have to code on a daily basis. Here’s a summary of the ideas I liked the most.</p>

<h3 id="better-code">
<a class="anchor" href="#better-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Better code</h3>

<h4 id="1-code-should-by-easy-to-understand">
<a class="anchor" href="#1-code-should-by-easy-to-understand" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. Code should by easy to understand</h4>
<ul>
  <li>Key ideas:
    <ul>
      <li>Code should be easy to understand.</li>
      <li>Code should be written to minimize the time it would take for someone else to understand it.</li>
      <li>Smaller isn’t always better.</li>
    </ul>
  </li>
</ul>

<p>I think defining a metric and push your efforts to improve it simplifies your life. In this case, the metric is the <em>time that it would take for someone to understand your code</em>.</p>

<h4 id="2-packing-information-into-names">
<a class="anchor" href="#2-packing-information-into-names" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. Packing information into names</h4>
<ul>
  <li>Pack information into names.</li>
  <li>Choose specific words: get is not very specific.</li>
  <li>Avoid generic names like tmp, aux, retval.</li>
  <li>Variable names are tiny comments.</li>
  <li>Abbreviations: would a new teammate understand what the name means?</li>
  <li>Summary:
    <ul>
      <li>Use specific words.</li>
      <li>Avoid generic names.</li>
      <li>Attach important details.</li>
      <li>Use capitalization, underscores and so on in a meaningful way.</li>
    </ul>
  </li>
</ul>

<p>This chapter allowed me to give more meaningful names to variables and functions.  When I define a function called <code class="highlighter-rouge">get_data</code> or a variable called <code class="highlighter-rouge">data</code> there’s something in my head telling me I should improve it. I never call a variable <code class="highlighter-rouge">var</code> anymore.</p>

<h4 id="3-names-that-cant-be-misconstructed">
<a class="anchor" href="#3-names-that-cant-be-misconstructed" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. Names that can’t be misconstructed</h4>
<ul>
  <li>Actively scrutinize names by asking: what other meanings can be interpreted?</li>
  <li>Summary:
    <ul>
      <li>Play devil’s advocate with names.</li>
      <li>When naming booleans, use words like <em>is</em> to make it clear.</li>
    </ul>
  </li>
</ul>

<p>I like the idea of putting yourself into a new teammate position and see how could they fuck up due to your bad naming.</p>

<h4 id="4-aesthetics">
<a class="anchor" href="#4-aesthetics" aria-hidden="true"><span class="octicon octicon-link"></span></a>4. Aesthetics</h4>
<ul>
  <li>Use consistent layout, with patterns the reader can get used to.</li>
  <li>Make similar code look similar.</li>
  <li>Group related lines of code into blocks.</li>
  <li>Aligning parts of the code into “columns” can make code easy to skim through.</li>
  <li>If code mentions A, B, and C in one place, don’t say B, C, and A in another. Pick a meaningful order and stick with it.</li>
  <li>Use empty lines to break apart large blocks into logical “paragraphs.”</li>
</ul>

<p>More aestethic code is easier to read.</p>

<h4 id="5-knowing-what-to-comment">
<a class="anchor" href="#5-knowing-what-to-comment" aria-hidden="true"><span class="octicon octicon-link"></span></a>5. Knowing what to comment</h4>
<ul>
  <li>The purpose of commenting is to help the reader know as much as the writer did.</li>
  <li>Don’t comment just for the sake of commenting.</li>
  <li>Don’t comment bad names. Fix the names instead.</li>
  <li>Include director comments to understand the general idea. Imagine someone joins the team, what would you explain to her? These things have to be commented.</li>
  <li>Comment your constants.</li>
  <li>Put in the reader’s shoes.</li>
  <li>Advertise likely pitfalls: what is surprising about the code? how it might by misused?</li>
  <li>Summarise blocks of code so the reader doesn’t get lost in details.</li>
</ul>

<p>I used to write comments just to write comments. If a function is called:</p>

<p><code class="highlighter-rouge">get_client_ids</code></p>

<p>Please don’t add the comment</p>

<p><code class="highlighter-rouge"># This function gets the clients ids</code></p>

<h4 id="6-making-comments-precise-and-compact">
<a class="anchor" href="#6-making-comments-precise-and-compact" aria-hidden="true"><span class="octicon octicon-link"></span></a>6. Making comments precise and compact</h4>
<ul>
  <li>Comments should have high info-to-space ratio</li>
  <li>Illustrate comments with carefully chosen input/output examples.</li>
  <li>Add high-level idea of code instead of obvious details.</li>
</ul>

<p>Providing examples is key if you want someone to use your code. I think <code class="highlighter-rouge">R</code> does this pretty well for package developers.</p>

<h3 id="simplifying-loops-and-logic">
<a class="anchor" href="#simplifying-loops-and-logic" aria-hidden="true"><span class="octicon octicon-link"></span></a>Simplifying loops and logic</h3>

<h4 id="7-simplifying-loops-and-logic">
<a class="anchor" href="#7-simplifying-loops-and-logic" aria-hidden="true"><span class="octicon octicon-link"></span></a>7. Simplifying loops and logic</h4>
<ul>
  <li>Key idea: make control flow as natural as possible.</li>
  <li>Prefered orders in <code class="highlighter-rouge">if(a == b)</code> vs <code class="highlighter-rouge">if(a != b)</code>:
    <ul>
      <li>Prefer positive case first.</li>
      <li>Prefer simpler case first.</li>
      <li>Prefer more interesting case first (there can be conflicts with the above).</li>
    </ul>
  </li>
  <li>Return early from functions if possible.</li>
  <li>Minimize nesting.</li>
</ul>

<p>I think it’s easier to reason about positive cases than negative (negating adds a complexity layer).</p>

<h4 id="8-breaking-down-giant-expressions">
<a class="anchor" href="#8-breaking-down-giant-expressions" aria-hidden="true"><span class="octicon octicon-link"></span></a>8. Breaking down giant expressions</h4>
<ul>
  <li>Key idea: break down giant expressions into more digestible pieces.</li>
  <li>Explaining variables: use extra variables that capture subexpressions.</li>
  <li>Beware of “clever” chunks of code: they’re often harder to read.</li>
</ul>

<p>This is something we’ve all been told. Split your code into functions, etc. I particularly like the warning about clever chunks of code. If you need to think very hard to code it, it’s probably going to be hard to understand.</p>

<h4 id="9-variables-and-readability">
<a class="anchor" href="#9-variables-and-readability" aria-hidden="true"><span class="octicon octicon-link"></span></a>9. Variables and readability</h4>
<ul>
  <li>Sloppy use of variables issues:
    <ul>
      <li>The more variables, the harder to keep track of them: Eliminate variables that jut get in the way.</li>
      <li>The bigger a variable scope, the longer you have to keep track: Make your variable visible by as few lines of code as possible.</li>
      <li>The more often it changes, the harder it is to keep track of its value: Prefer write-once variables.</li>
    </ul>
  </li>
</ul>

<p>I particularly like the fact that variables shouldn’t be updated a lot and that they should be in the shortest subset of code possible.</p>

<h3 id="reorganizing-your-code">
<a class="anchor" href="#reorganizing-your-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reorganizing your code</h3>

<h4 id="10-extracting-unrelated-subproblems">
<a class="anchor" href="#10-extracting-unrelated-subproblems" aria-hidden="true"><span class="octicon octicon-link"></span></a>10. Extracting unrelated subproblems</h4>
<ul>
  <li>Method to extract unrelated subproblems:
    <ul>
      <li>For each function/block, obtain the high-level goal of the code.</li>
      <li>For each line of code, ask if it solves the high-level goal or an unrelated subproblem.</li>
      <li>If enough lines solve an unrelated subproblem, extract the code in a separate function.</li>
    </ul>
  </li>
  <li>Create general-purpose code: separate generic code from project-specific code.</li>
</ul>

<h4 id="11-one-task-at-a-time">
<a class="anchor" href="#11-one-task-at-a-time" aria-hidden="true"><span class="octicon octicon-link"></span></a>11. One task at a time</h4>
<ul>
  <li>Key idea: Code should be organized so that it’s doing only one task at a time.</li>
  <li>List all tasks code is doing. Some of them might easily become functions or classes. Others become paragraphs in a funciton.</li>
</ul>

<h4 id="12-turning-thoughts-into-code">
<a class="anchor" href="#12-turning-thoughts-into-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>12. Turning thoughts into code</h4>
<ul>
  <li>Process that can help you code clearly:
    <ul>
      <li>Describe code as you would to a colleague.</li>
      <li>Pay attention to key words.</li>
      <li>Write code to match description.</li>
    </ul>
  </li>
  <li>The method is also valid for debugging (as describing the problem).</li>
</ul>

<h4 id="13-writing-less-code">
<a class="anchor" href="#13-writing-less-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>13. Writing less code</h4>
<ul>
  <li>Eliminate nonessential features from product.</li>
  <li>Rethink requirements to solve the easiest version of the problem that still gets the job done.</li>
  <li>Stay familiar with standard libraries by reading their APIs.</li>
</ul>


  </div><a class="u-url" href="/david-masip-blog/markdown/2020/05/02/art-of-readable-code.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/david-masip-blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/david-masip-blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/david-masip-blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p></p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" title="fastai"><svg class="svg-icon grey"><use xlink:href="/david-masip-blog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/david-masip-blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
